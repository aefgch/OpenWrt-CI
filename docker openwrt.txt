ç›¸ä¿¡å¤§å®¶éƒ½é‡åˆ°è¿‡æ‹‰å–ç½‘ä¸Šçš„openwrtæƒ³è¦çš„æ’ä»¶åˆ«äººçš„å›ºä»¶æ²¡æœ‰åŠ å…¥ï¼Œæˆ–è€…åŠ å…¥çš„å¤ªå¤šçœ‹ç€ä¸å®‰é€¸ï¼ˆæˆ‘å°±æ˜¯ï¼‰ã€‚    æœ¬æ–‡å°†æ•™ç»™å¤§å®¶å¦‚ä½•å°†è‡ªç¼–è¯‘çš„openwrtå›ºä»¶ç›´æ¥å¯¼å…¥ç©å®¢äº‘dockerå†…è¿è¡Œã€‚å¦‚ä½•ç¼–è¯‘ä¸åšè¿‡å¤šä»‹ç»ï¼Œç½‘ä¸Šå¤§æŠŠçš„æ•™ç¨‹ã€‚å¤´ä¸‰ä¸ªé€‰æ‹©AT91-sama5-ama5d3ã€‚

     ç¼–è¯‘å®Œæˆåå¤§å®¶ä¼šå¾—åˆ°ä¸¤ä¸ªå‹ç¼©çš„æ–‡ä»¶sdcardæ˜¯Uç›˜SDå¡ä½¿ç”¨çš„ï¼Œå¦å¤–ä¸ªrootfs.tarç»“å°¾çš„å°±æ˜¯dockerä½¿ç”¨çš„ã€‚

å°†æœ¬åœ°ç¼–è¯‘çš„openwrt-at91-sama5-microchip_sama5d3-xplained-rootfs.tarä¸Šä¼ åˆ°ç©å®¢äº‘æ ¹ç›®å½•ä¸‹ï¼ˆå…¶ä»–ç›®å½•å‚ç…§ä¿®æ”¹ï¼‰
åˆ›å»ºå®¹å™¨é•œåƒ
docker import openwrt-at91-sama5-microchip_sama5d3-xplained-rootfs .tar.gz openwrt:1

ç»“å°¾çš„lean_openwrtä¸ºé•œåƒåï¼Œå¯ä»¥éšæ„æ”¹å˜ä¸ºè‡ªå·±å–œæ¬¢çš„ã€‚
å¯åŠ¨å®¹å™¨
docker run -itd --name=openwrt --restart=always --network=macnet --privileged=true openwrt:1 /sbin/init

æ›´æ”¹openwrtç®¡ç†åœ°å€é…ç½®
docker exec -it 64afa56a5f20 /bin/sh
ç¼–è¾‘ vi  /etc/config/network
æ‰¾åˆ°lanä¸‹çš„option ipaddræ”¹ä¸ºè‡ªå·±å¯¹åº”çš„ç®¡ç†IP
é‡å¯OpenWRTç½‘ç»œæœåŠ¡
/etc/init.d/network restart
æ¨å‡ºdocker
exit
é‡å¯ç½‘å¡ç”Ÿæ•ˆ
/etc/init.d/networking restart

ğŸ”µä¿®å¤å®¿ä¸»æ— ç½‘ç»œ

vi /etc/network/interfaces

auto eth0

iface eth0 inet manual

auto macvlan

iface macvlan inet dhcp

hwaddress 00:22:bc:fb:45:54

pre-up ip link add macvlan link eth0 type macvlan mode bridge

post-down ip link del macvlan link eth0 type macvlan mode bridge

1ã€é¦–å…ˆä½¿ç”¨docker -s -aå‘½ä»¤åˆ—å‡ºæ‰€æœ‰å®¹å™¨

  docker ps -a

 2ã€ç„¶åä½¿ç”¨docker stopå‘½ä»¤åœæ­¢è¦åˆ é™¤çš„å®¹å™¨


  docker stop <CONTAINER ID|NAME>

3ã€ç°åœ¨ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤å•ä¸ªæˆ–å¤šä¸ªå®¹å™¨ã€‚


   docker rm <CONTAINER ID|NAME> <CONTAINER ID|NAME>

æ³¨ï¼šè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸€æ¬¡åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨ã€‚


docker rm $(docker ps -a -q)

è‡³æ­¤æœ¬æ–‡æ•™ç¨‹ç»“æŸã€‚å¸Œæœ›å¤§å®¶çš„ç©å®¢äº‘éƒ½ç”¨ä¸Šå–œæ¬¢çš„æ’ä»¶ã€‚